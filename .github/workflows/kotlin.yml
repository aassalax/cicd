name: Kotlin CI

on:
  workflow_call:
    inputs:
      java-version:
        description: 'Version de Java'
        required: false
        default: '17'
        type: string
    secrets:
      PAT_TOKEN:
        required: true

jobs:
  # Draft PR â†’ toutes branches sauf main
  draft-pr:
    if: github.ref_name != 'main'
    uses: ./.github/workflows/auto-pr.yml
    secrets:
      PAT_TOKEN: ${{ secrets.PAT_TOKEN }}
